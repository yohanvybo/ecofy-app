{"ast":null,"code":"const mondayApiClient = require(\"./monday-api-client\");\n\nconst {\n  oauthToken\n} = require(\"./services/oauth-service.js\");\n\nconst TOKEN_MISSING_ERROR = \"Should send 'token' as an option or call mondaySdk.setToken(TOKEN)\";\n\nclass MondayServerSdk {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this._token = options.token;\n    this.setToken = this.setToken.bind(this);\n    this.api = this.api.bind(this);\n  }\n\n  setToken(token) {\n    this._token = token;\n  }\n\n  async api(query) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const params = {\n      query,\n      variables: options.variables\n    };\n    const token = options.token || this._token;\n    if (!token) throw new Error(TOKEN_MISSING_ERROR);\n    return await mondayApiClient.execute(params, token);\n  }\n\n  oauthToken(code, clientId, clientSecret) {\n    return oauthToken(code, clientId, clientSecret);\n  }\n\n}\n\nfunction init() {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return new MondayServerSdk(options);\n}\n\nmodule.exports = init;","map":{"version":3,"names":["mondayApiClient","require","oauthToken","TOKEN_MISSING_ERROR","MondayServerSdk","constructor","options","_token","token","setToken","bind","api","query","params","variables","Error","execute","code","clientId","clientSecret","init","module","exports"],"sources":["C:/laragon/www/monday/quickstart-react/node_modules/monday-sdk-js/src/server.js"],"sourcesContent":["const mondayApiClient = require(\"./monday-api-client\");\nconst { oauthToken } = require(\"./services/oauth-service.js\");\n\nconst TOKEN_MISSING_ERROR = \"Should send 'token' as an option or call mondaySdk.setToken(TOKEN)\";\n\nclass MondayServerSdk {\n  constructor(options = {}) {\n    this._token = options.token;\n\n    this.setToken = this.setToken.bind(this);\n    this.api = this.api.bind(this);\n  }\n\n  setToken(token) {\n    this._token = token;\n  }\n\n  async api(query, options = {}) {\n    const params = { query, variables: options.variables };\n    const token = options.token || this._token;\n\n    if (!token) throw new Error(TOKEN_MISSING_ERROR);\n\n    return await mondayApiClient.execute(params, token);\n  }\n\n  oauthToken(code, clientId, clientSecret) {\n    return oauthToken(code, clientId, clientSecret);\n  }\n}\n\nfunction init(options = {}) {\n  return new MondayServerSdk(options);\n}\n\nmodule.exports = init;\n"],"mappings":"AAAA,MAAMA,eAAe,GAAGC,OAAO,CAAC,qBAAD,CAA/B;;AACA,MAAM;EAAEC;AAAF,IAAiBD,OAAO,CAAC,6BAAD,CAA9B;;AAEA,MAAME,mBAAmB,GAAG,oEAA5B;;AAEA,MAAMC,eAAN,CAAsB;EACpBC,WAAW,GAAe;IAAA,IAAdC,OAAc,uEAAJ,EAAI;IACxB,KAAKC,MAAL,GAAcD,OAAO,CAACE,KAAtB;IAEA,KAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;IACA,KAAKC,GAAL,GAAW,KAAKA,GAAL,CAASD,IAAT,CAAc,IAAd,CAAX;EACD;;EAEDD,QAAQ,CAACD,KAAD,EAAQ;IACd,KAAKD,MAAL,GAAcC,KAAd;EACD;;EAEQ,MAAHG,GAAG,CAACC,KAAD,EAAsB;IAAA,IAAdN,OAAc,uEAAJ,EAAI;IAC7B,MAAMO,MAAM,GAAG;MAAED,KAAF;MAASE,SAAS,EAAER,OAAO,CAACQ;IAA5B,CAAf;IACA,MAAMN,KAAK,GAAGF,OAAO,CAACE,KAAR,IAAiB,KAAKD,MAApC;IAEA,IAAI,CAACC,KAAL,EAAY,MAAM,IAAIO,KAAJ,CAAUZ,mBAAV,CAAN;IAEZ,OAAO,MAAMH,eAAe,CAACgB,OAAhB,CAAwBH,MAAxB,EAAgCL,KAAhC,CAAb;EACD;;EAEDN,UAAU,CAACe,IAAD,EAAOC,QAAP,EAAiBC,YAAjB,EAA+B;IACvC,OAAOjB,UAAU,CAACe,IAAD,EAAOC,QAAP,EAAiBC,YAAjB,CAAjB;EACD;;AAvBmB;;AA0BtB,SAASC,IAAT,GAA4B;EAAA,IAAdd,OAAc,uEAAJ,EAAI;EAC1B,OAAO,IAAIF,eAAJ,CAAoBE,OAApB,CAAP;AACD;;AAEDe,MAAM,CAACC,OAAP,GAAiBF,IAAjB"},"metadata":{},"sourceType":"script"}